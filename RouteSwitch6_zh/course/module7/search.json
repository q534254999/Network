{"list":["7.0.1.1","7.0.1.2","7.1.1.1","7.1.1.2","7.1.1.3","7.1.1.4","7.1.2.1","7.1.2.2","7.1.2.3","7.1.2.4","7.1.2.5","7.1.2.6","7.1.2.7","7.1.3.1","7.1.3.2","7.1.3.3","7.1.4.1","7.1.4.2","7.2.1.1","7.2.1.2","7.2.1.3","7.2.1.4","7.2.1.5","7.2.1.6","7.2.1.7","7.2.2.1","7.2.2.2","7.2.2.3","7.2.2.4","7.2.2.5","7.2.2.6","7.2.3.1","7.2.3.2","7.2.3.3","7.2.3.4","7.3.1.1","7.3.1.2","7.3.1.3","7.3.1.4","7.3.2.1","7.3.2.2","7.3.2.3","7.3.2.4","7.4.1.1","7.4.1.2","7.4.1.3"],"map":{"0":[6,7,8,9,10,13,17,18,19,20,21,28,31,32,35,36,39,40,41,42],"1":[6,7,8,9,10,17,18,19,20,21,25,26,28,29,30,31,34,35,36,37,39,40,41,45],"2":[6,7,8,9,10,18,19,20,21,25,26,28,29,30,31,34,35,36,37,38,39,40,41],"3":[3,8,18,21,25,26,30,34,36,40,41],"4":[3,25,30,31,34,36,45],"5":[36],"7":[0,45],"8":[42],"10":[8,9,17,18,19,20,21,25,26,27,28,31,32,35,36,39,40,41,42],"11":[8,19,20,21,27,32,35,36,40],"12":[18],"14":[8],"15":[8,27,28],"16":[7,8,42],"20":[40],"24":[7,8,17,18,19,20,32,36,39,40,42],"28":[8],"30":[17,39],"31":[7,8,17],"32":[6,8],"99":[18,25,26,45],"100":[18],"168":[7,8,9,17,18,19,20,21,25,26,27,31,32,35,36,39,40,42],"172":[42],"192":[7,8,9,17,18,19,20,21,25,26,27,31,32,35,36,39,40,42],"254":[8],"255":[6,8,9,10,18,19],"798":[18],"1300":[18],"1941":[43],"1999":[18],"第":[0,30,34,45],"章：访问控制列表":[0,45],"掌握访问控制列表":[0],"acl":[0,2,3,4,5,6,8,9,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,42,43,45],"是网络管理员最重要的技能之一。acl":[0],"为网络提供安全性。":[0],"网络设计师使用防火墙来防止网络被未授权用户使用。防火墙是强制执行网络安全策略的硬件或软件解决方案。您可以想象大楼内一间房间的门锁。该锁仅允许拥有钥匙或门卡的授权用户进入那道门。类似地，防火墙过滤未经授权或可能存在危险的数据包，防止其进入网络。":[0],"在思科路由器上，您可以配置简单的防火墙，使用":[0],"提供基本的流量过滤功能。管理员使用":[0],"在其网络中阻止流量或仅允许指定流量。":[0],"本章说明，作为安全解决方案的一部分，如何在思科路由器上配置标准":[0],"ipv4":[0,3,6,7,9,10,13,18,19,20,21,22,23,24,25,27,30,33,37,39,40,41,42,45],"并对其进行故障排除。其中包含":[0],"的使用技巧、注意事项、建议和一般指导原则。此外，本章还包括一系列课程、练习和实验操作，可帮助您掌握":[0],"acl。":[0,4,13,16,18,19,27,39,45],"允许我帮助您":[1],"场景":[1,42,43],"班级的每一个人都将记录五个问题，用来询问正在申请进行中小企业内网络助理职位的安全审查的申请人。问题列表应该按照问题对于为职位选择合格候选人的重要性按顺序列出。此外，还将记录首选的答案。":[1],"从班上选出两名面试官。然后开始面试流程。根据候选人对面试官问题的回答允许或拒绝候选人进入下一级别的面试问题。":[1],"请参阅附随的":[1],"pdf":[1],"查看有关本练习的进一步说明。":[1],"整个班级将聚在一起讨论他们有关这一过程的观察情况，以决定允许还是拒绝给予申请人继续进行下一轮面试的机会。":[1],"课堂练习":[1,43],"什么是":[2],"acl？":[2],"是一系列":[2,45],"ios":[2,18,25,26,36,37],"命令，根据数据包报头中找到的信息来控制路由器应该转发还是应该丢弃数据包。acl":[2],"是思科":[2],"软件中最常用的功能之一。":[2],"在配置后，acl":[2],"将执行以下任务：":[2],"限制网络流量以提高网络性能。例如，如果公司政策不允许在网络中传输视频流量，那么就应该配置和应用":[2],"以阻止视频流量。这可以显著降低网络负载并提高网络性能。":[2],"提供流量控制。acl":[2],"可以限制路由更新的传输，从而确保更新都来自一个已知的来源。":[2],"提供基本的网络访问安全性。acl":[2],"可以允许一台主机访问部分网络，同时阻止其他主机访问同一区域。例如，":[2],"人力资源":[2],"网络仅限授权用户进行访问。":[2],"根据流量类型过滤流量。例如，acl":[2],"可以允许邮件流量，但阻止所有":[2],"telnet":[2,33,34],"流量。":[2],"屏蔽主机以允许或拒绝对网络服务的访问。acl":[2],"可以允许或拒绝用户访问特定文件类型，例如":[2],"ftp":[2,42,43],"或":[2,3,19,21,29,35,45],"http。":[2],"默认情况下，路由器并未配置":[2],"acl；因此，路由器不会默认过滤流量。进入路由器的流量仅根据路由表内的信息进行路由。但是，当":[2],"应用于接口时，路由器会在网络数据包通过接口时执行另一项评估所有网络数据包的任务，以确定是否可以转发数据包。":[2],"除了允许或拒绝流量外，acl":[2],"还可用于选择需要以其他方式进行分析、转发或处理的流量类型。例如，acl":[2],"可用于对流量进行分类，以实现按优先级处理流量的功能。此功能与音乐会或体育赛事中的":[2],"vip":[2],"通行证类似。vip":[2],"通行证使选定的客人享有未向普通入场券持有人提供的特权，例如优先进入或能够进入专用区。":[2],"该图显示一个应用了":[2],"的示例拓扑。":[2],"数据包过滤":[3],"是一系列被称为访问控制条目":[3],"ace":[3,6,18,26,36,37,39],"的":[3,18,26,27,29,32,41,42],"permit":[3,8,18,21,29,32,35,39,45],"deny":[3,18,19,21,26,29,35,40,41,45],"语句组成的顺序列表。ace":[3],"通常也称为":[3],"语句。当网络流量经过配置了":[3],"的接口时，路由器会将数据包中的信息与每个":[3],"按顺序进行比较，以确定数据包是否匹配其中一个":[3],"ace。此过程称为数据包过滤。":[3],"数据包过滤通过分析传入和传出的数据包，然后根据特定条件转发或丢弃分析后的数据包，从而控制对网络的访问。如图所示，数据包分析可以发生在第":[3],"层或第":[3],"层。标准":[3],"仅在第":[3],"层执行过滤。扩展":[3],"在第":[3],"层和第":[3],"层执行过滤。":[3],"注：扩展":[3],"不在本课程的讨论范围之内。":[3,6],"源":[3],"地址是在标准":[3],"的每个":[3],"中设置的过滤条件。配置了标准":[3],"的路由器从数据包报头中提取源":[3],"地址。路由器从":[3],"顶部开始，按顺序将地址与每个":[3],"进行比较。当找到一个匹配项时，路由器执行指令，允许或拒绝数据包。在匹配之后，不会继续分析":[3],"中剩余的":[3],"ace（如有）。如果源":[3],"地址不匹配":[3],"中的任何":[3],"ace，则数据包会被丢弃。":[3],"的最后一条语句都是隐式拒绝语句。每个":[3],"的末尾都会自动插入此语句，尽管实际上":[3],"中并无此语句。隐式拒绝语句会阻止所有流量，由于具有此隐式拒绝语句，一条":[3],"语句也没有的":[3],"将会阻止所有流量。":[3],"工作原理":[4,15],"定义了一组规则，用于对进入入站接口的数据包、通过路由器中继的数据包，以及从路由器出站接口输出的数据包施加额外的控制。acl":[4],"对路由器自身产生的数据包不起作用。":[4],"如图所示，acl":[4,26],"可配置为应用于入站流量和出站流量。":[4],"入站":[4],"传入数据包经过处理之后才会被路由到出站接口。因为如果数据包被丢弃，就节省了执行路由查找的开销，所以入站":[4],"非常高效。如果":[4],"允许该数据包，则会处理该数据包以进行路由。当与入站接口连接的网络是需要检测的数据包的唯一来源时，最适合使用入站":[4],"来过滤数据包。":[4],"出站":[4],"传入数据包路由到出站接口后，由出站":[4],"进行处理。在来自多个入站接口的数据包通过同一出站接口之前，对数据包应用相同过滤器时，最适合使用出站":[4],"packet":[5,23,24,33,42,43,44],"tracer":[5,23,24,33,42,43,44],"演示":[5],"在本练习中，您将观察如何使用访问控制列表":[5],"阻止":[5],"ping":[5,29,39],"访问远程网络上的主机。从配置中删除":[5],"之后，ping":[5],"将成功。":[5],"演示说明":[5],"pka":[5,23,24,33,42,44],"介绍":[6],"通配符掩码":[6],"包括通配符掩码。通配符掩码是由":[6],"个二进制数字组成的字符串，路由器使用它来确定检查地址的哪些位以确定匹配项。":[6],"和子网掩码一样，通配符掩码中的数字":[6],"和":[6,8,9,13,29,32],"用于标识如何处理相应的":[6],"地址位。但是，在通配符掩码中，这些位的用途不同，所遵循的规则也不同。":[6],"子网掩码使用二进制":[6],"标识":[6],"地址的网络、子网和主机部分。通配符掩码使用二进制":[6],"过滤单个":[6],"地址或一组":[6],"地址，以便允许或拒绝对资源的访问。":[6],"通配符掩码和子网掩码之间的差异在于它们匹配二进制":[6],"的方式。通配符掩码使用以下规则匹配二进制":[6],"0：":[6],"通配符掩码位":[6],"匹配地址中对应位的值。":[6],"忽略地址中对应位的值。":[6],"图":[6,7,18,19,20,21,28,36,37],"显示不同通配符掩码过滤":[6],"地址的方式。在本示例中，请记住，二进制":[6],"表示必须匹配的位，而二进制":[6],"表示可以忽略的位。":[6],"通配符掩码通常也称为反码。原因在于，子网掩码采用二进制":[6],"表示匹配，二进制":[6],"表示不匹配；而在通配符掩码中则正好相反。":[6],"使用通配符掩码":[6],"中的表格显示了将":[6],"通配符掩码应用到":[6],"位":[6],"地址中的结果。请记住二进制":[6],"表示应匹配的值。":[6],"注：不同于":[6],"acl，ipv6":[6],"不使用通配符掩码，而使用前缀长度表示应匹配":[6],"ipv6":[6,13],"源地址或目标地址的多少位。ipv6":[6],"通配符掩码示例":[7],"使用通配符掩码匹配":[7],"子网":[7],"通配符掩码的计算需要进行一些练习。图":[7],"提供了三个通配符掩码示例。":[7],"在第一个示例中，通配符掩码规定":[7],"中的每一位都必须精确匹配。":[7],"在第二个示例中，通配符掩码规定任意地址都可匹配。":[7],"在第三个示例中，通配符掩码规定，其与":[7],"网络中的任意主机匹配。":[7],"使用通配符掩码匹配网络范围":[7],"中的两个示例更加复杂。在示例":[7],"中，前两组二进制八位数和第三组二进制八位数的前四位必须精确匹配。第三组二进制八位数的后四位和最后一组二进制八位数可以是任何有效的数字。结果是掩码会检查":[7],"到":[7,18,31],"之间的网络范围。":[7],"示例":[7,9,10,20,39,40,41],"显示的通配符掩码匹配前两组二进制八位数和第三组二进制八位数中的最低位。最后一组二进制八位数和第三组二进制八位数中的前七位可以是任何有效的数字。结果是该掩码会允许或拒绝所有来自":[7],"主网的奇数子网的所有主机。":[7],"计算通配符掩码":[8],"计算通配符掩码颇具挑战性。一个简便方法是从":[8],"中减去子网掩码。":[8],"通配符掩码计算：示例":[8],"在该图的第一个示例中，假设您希望允许":[8],"网络中的所有用户进行访问。因为其子网掩码是":[8],"0，所以您可以从":[8],"中减去子网掩码":[8],"0。得到的通配符掩码为":[8],"255。":[8,10],"在该图的第二个示例中，假设您希望允许子网":[8],"中的":[8],"位用户访问网络。ipv4":[8],"子网的子网掩码是":[8],"240，因此从":[8],"240。得到的通配符掩码为":[8],"15。":[8],"在该图的第三个示例中，假设您希望只匹配网络":[8],"0。同样，您可以从":[8],"中减去对应的子网掩码（本例中为":[8],"0）。结果是":[8],"您可以使用如下所示的两条语句得到相同结果：":[8],"r1":[8,18,21,28,32,34,35,40,41],"config":[8,18,19,25,31,37,45],"access":[8,18,19,21,25,26,27,28,29,31,32,37,39,40,41,45],"list":[8,18,19,21,25,29,31,39,40,41,45],"按以下方式配置通配符掩码更为有效：":[8],"假设您需要匹配":[8],"至":[8,45],"范围内的网络。这些网络可以汇总至":[8],"20。在这种情况下，0":[8],"是配置如下所示有效":[8],"语句的正确通配符掩码：":[8],"通配符掩码关键字":[9],"使用二进制通配符掩码位的十进制表示有时可能显得比较冗长。此时可使用关键字":[9],"host":[9,10,18,26,36,37],"any":[9,10,29,35,39,41,45],"来标识最常用的通配符掩码，从而简化此任务。这些关键字避免了在标识特定主机或完整网络时输入通配符掩码的麻烦。这些关键字还可提供有关条件的来源和目标的可视化提示，使":[9],"更加易于理解。":[9],"关键字可替代":[9],"掩码。此掩码表明，所有":[9],"地址位均必须匹配，才能过滤出一个主机地址。":[9],"选项可替代":[9],"地址和":[9,23],"掩码。该掩码表示忽略整个":[9],"地址，这意味着接受任何地址。":[9],"1：匹配单个":[9],"地址的通配符掩码过程":[9],"在该图的示例":[9],"中，我们可以不输入":[9],"0，而是使用":[9],"10。":[9,26],"2：匹配所有":[9],"255，而是使用关键字":[9],"any。":[9,19],"通配符掩码关键字示例":[10],"图中的示例":[10],"显示了如何使用":[10],"关键字替代":[10],"地址":[10],"和通配符掩码":[10],"显示了在标识单个主机时，如何使用":[10],"关键字替代通配符掩码。":[10],"注：本章后续部分将介绍配置标准":[10],"的语法。":[10,18],"练习":[11,12,15,22],"确定正确的通配符掩码":[11],"此处输入故事板文本":[11,12,15,22],"确定允许或拒绝":[12],"创建":[13],"的一般指导原则":[13],"的编写可能会相当复杂。对于每个接口，可能需要使用多条策略来管理允许进入或退出此接口的流量类型。图中的路由器为":[13],"配置了两个接口。如果两种协议在两个接口上和在两个方向上都需要":[13],"acl，则我们需要八个不同的":[13],"acl。每个接口将使用四个":[13],"acl；两个是":[13],"acl，另外两个是":[13],"acl。对于每种协议，一个":[13],"用于入站流量，另一个用于出站流量。":[13],"注：不必在两个方向上都配置":[13],"acl。应用于接口的":[13],"编号及其方向将取决于所实施的要求。":[13],"下面是一些使用":[13],"的指导原则：":[13],"在位于内部网络和外部网络（例如互联网）交界处的防火墙路由器上使用":[13],"在位于网络两个部分交界处的路由器上使用":[13],"acl，以控制进出内部网络特定部分的流量。":[13],"在边界路由器（即位于网络边界的路由器）上配置":[13],"acl。这样可以在内外部网络之间，或网络中受控度较低的区域与敏感区域之间起到基本的缓冲作用。":[13],"为边界路由器接口上配置的每种网络协议配置":[13],"应用":[13],"的规则":[13],"您可以为每种协议":[13],"per":[13],"protocol":[13],"、每个方向":[13],"direction":[13],"、每个接口":[13],"interface":[13,28,45],"配置一个":[13],"acl：":[13,26],"每种协议一个":[13],"要控制接口上的流量，必须为接口上启用的每种协议定义相应的":[13],"每个方向一个":[13],"一个":[13,43],"只能控制接口上一个方向的流量。要控制入站流量和出站流量，必须分别定义两个":[13],"每个接口一个":[13],"只能控制一个接口（例如":[13],"gigabitethernet":[13],"0）上的流量。":[13],"最佳做法":[14],"使用":[14,21,25,26,43],"时务必小心谨慎、关注细节。一旦犯错可能导致代价极高的后果，例如停机、耗时的故障排查以及糟糕的网络服务。在配置":[14],"之前，必须进行基本规划。图中显示的指导原则是实施":[14],"最佳做法的基础。":[14],"的放置位置":[16],"正确放置":[16],"可以使网络更加高效地运行。可以放置":[16],"以减少不必要的流量。例如，会被远程目标拒绝的流量不应该消耗通往该目标的路由上的网络资源进行转发。":[16],"每个":[16],"都应该放置在最能发挥作用的位置。如图所示，基本规则如下：":[16],"扩展":[16,45],"将扩展":[16],"放置在尽可能靠近需要过滤的流量源的位置上。这样，不需要的流量会在靠近源网络的位置遭到拒绝，而无需通过网络基础设施。":[16],"标准":[16,17,18,37,42,45],"由于标准":[16],"不会指定目标地址，所以其位置应该尽可能靠近目标。在流量源附近设置标准":[16],"可以有效阻止流量通过应用了":[16],"的接口到达任何其他网络。":[16],"的位置以及使用的":[16],"类型还可能取决于：":[16],"网络管理员的控制范围":[16],"的位置可能取决于网络管理员是否能够同时控制源网络和目标网络。":[16],"相关网络的带宽":[16],"在源上过滤不需要的流量，可以在流量消耗通往目标的路径上的带宽之前阻止流量传输。这对于带宽较低的网络尤为重要。":[16],"配置的难易程度":[16],"如果网络管理员希望拒绝来自几个网络的流量，一种选择就是在靠近目标的路由器上使用单个标准":[16],"acl。缺点是来自这些网络的流量将产生不必要的带宽使用。扩展":[16],"可以在每台发出流量的路由器上使用。这将通过在源上过滤流量而节省带宽，但需要在多台路由器上创建扩展":[16],"注：虽然扩展":[16],"不属于":[16],"icnd1":[16],"ccent":[16],"考试的范围，但是您应该了解放置标准":[16],"和扩展":[16],"的一般规则。对于":[16],"ccna":[16],"认证考试，一般规则是将扩展":[16],"放在尽可能靠近源的位置上，而标准":[16],"放在尽可能靠近目标的位置上。":[16],"放置":[17],"图中的拓扑用于演示可以如何放置标准":[17],"acl。管理员想要防止":[17],"网络中产生的流量到达":[17],"网络。":[17,40],"根据将标准":[17],"置于靠近目标位置的基本放置原则，右图显示了":[17],"r3":[17],"上可能应用标准":[17],"的接口：":[17],"s0":[17,19,20,28,35],"接口":[17,21],"应用标准":[17],"以阻止来自":[17],"的流量进入":[17],"接口，将会阻止该流量到达":[17],"以及通过":[17],"可到达的所有其他网络。这将包括":[17],"网络。由于":[17],"的意图是只过滤指向":[17],"的流量，因此不应将标准":[17],"应用到此接口。":[17],"g0":[17,20,21,28,39,40,41],"将标准":[17,19],"应用于从":[17],"接口流出的流量，可以过滤从":[17],"发送到":[17],"的数据包。这不会影响通过":[17],"可到达的其他网络。来自":[17],"的数据包仍可到达":[17],"24。":[17],"编号标准":[18,20],"语法":[18,21],"要在思科路由器上使用编号标准":[18],"acl，您必须先创建标准":[18],"acl，然后在接口上激活":[18],"全局配置命令使用":[18],"范围内的一个数字定义标准":[18],"acl。思科":[18],"软件":[18],"版扩展了这些编号，允许将":[18],"之间的数字用于定义标准":[18],"acl。这最多可能产生":[18],"个标准":[18],"acl。这些附加编号的":[18],"称为扩展":[18],"命令的完整语法如下：":[18],"router":[18,19,31],"number":[18,19,27,31],"remark":[18,21],"source":[18],"wildcard":[18],"log":[18],"详细介绍了标准":[18],"可用于允许或拒绝单个主机或一组主机地址。要在编号":[18],"中创建一条":[18],"语句以允许":[18],"地址为":[18,27],"的特定主机，您应该输入：":[18],"如图":[18,28,37],"所示，要在允许":[18],"网络中所有":[18],"地址的编号":[18],"中创建一条允许一组":[18],"地址的语句，您应该输入：":[18],"要删除":[18],"acl，使用全局配置命令":[18],"no":[18,19,21,25,26,27,28,41,45],"list。发出":[18],"show":[18,25,26,27,28,29,32,37,39,40,41,45],"命令确认访问列表":[18],"已删除。":[18],"通常，当管理员创建":[18],"时，已经知道并理解每条语句的用途。但是，为了确保管理员和其他人能够回想起语句的用途，还应当包含注释。remark":[18],"关键字用于记录信息，使访问列表更易于理解。每条注释限制在":[18],"个字符以内。图":[18],"相当简单，仅用作示例。当使用":[18],"running":[18,25,37,45],"命令查看配置中的":[18],"时，注释也会显示。":[18],"应用于接口":[19],"配置标准":[19,22,23],"之后，可以在接口配置模式下使用":[19,45],"ip":[19,21,26,28,31,45],"group":[19,21,45],"命令将其关联到接口：":[19],"if":[19],"name":[19,21,45],"in":[19,21,31],"out":[19,21,31],"要从接口上删除":[19,45],"acl，首先在接口上输入":[19,45],"命令，然后输入全局命令":[19,45],"删除整个":[19,45],"列出了在路由器上配置和应用编号标准":[19],"的步骤和语法。":[19],"显示了一个用于允许单个网络的":[19],"示例。":[19,20],"此":[19,20],"仅允许来自源网络":[19],"的流量从接口":[19],"转发。来自":[19],"之外网络的流量会被阻止。":[19],"第一条语句将":[19],"标识为访问列表":[19],"1。它将允许匹配选定参数的流量。在本例中，ipv4":[19],"地址和通配符掩码确定的源网络为":[19],"255。请回想一下有一条隐式拒绝全部网络的语句，等同于向":[19],"末尾添加":[19],"接口配置命令将":[19],"关联到":[19],"serial":[19],"接口上，将其作为出站过滤器。":[19],"因此，acl":[19],"仅允许来自":[19],"网络的主机通过路由器":[19],"r1。它拒绝任何其他网络，包括":[19],"网络":[19],"显示了一个允许特定子网（除该子网上的一个特定主机之外）的":[20],"第一个命令将删除之前的":[20],"版本。下一条":[20],"语句将拒绝位于":[20],"的主机":[20],"pc1。但允许":[20],"网络中的其他各台主机。同样，隐式拒绝语句匹配所有其他网络。":[20],"该":[20],"将再次应用到接口":[20],"的出站方向。":[20],"显示的是一个拒绝特定主机的":[20],"示例。该":[20],"用于取代上一示例的":[20],"acl。此示例仍会阻止来自主机":[20],"pc1":[20,29,32,39,41],"的流量，但允许所有其他流量。":[20],"前两条命令与上一个示例相同。第一条命令删除之前的":[20],"版本，下一条":[20],"语句拒绝位于":[20],"网络中的主机":[20],"pc1。":[20],"第三行是一条新的语句，允许所有其他主机。这意味着将允许来自":[20],"网络的所有主机，但上一语句中拒绝的":[20],"除外。":[20],"将应用于接口":[20],"的入站方向。因为该过滤只会影响":[20],"上的":[20],"lan，所以将":[20],"应用于入站接口更加有效。可将":[20],"应用于":[20],"的出站方向，但是这样，r1":[20],"就必须检查来自所有网络（包括":[20],"24）的数据包。":[20],"命名的标准":[21],"命名":[21,41],"让人更容易理解其作用。当使用名称而不是编号来标识":[21],"时，配置模式和命令语法略有不同。":[21],"显示了创建标准命名":[21],"所需的步骤。":[21],"步骤":[21,25,26],"进入全局配置模式，使用":[21],"命令创建命名":[21],"acl。acl":[21],"名称可由字母数字组成，区分大小写，并且必须是唯一的。ip":[21],"standard":[21,26,45],"命令用于创建标准命名":[21],"acl。在输入此命令后，路由器进入标准":[21],"std":[21],"nacl":[21],"配置模式，如图":[21],"中第二个提示符所示。":[21],"注：编号":[21],"使用全局配置命令":[21],"list，而命名":[21],"命令。":[21],"在命名":[21],"配置模式下，使用":[21],"语句指定一个或多个条件，以确定应该转发还是丢弃数据包。您可以使用":[21],"向":[21],"添加注释。":[21],"命令将":[21],"应用于接口。请指定应当在数据包进入接口":[21],"时还是在数据包离开接口":[21],"时将":[21],"应用于数据包。":[21],"显示了在路由器":[21],"上配置标准命名":[21],"时使用的命令，该命令拒绝主机":[21],"访问":[21,31,33],"网络。将":[21],"命名为":[21],"access。":[21],"名称不一定非要使用大写字母，但查看运行配置输出时大写字母会比较醒目。而且它使您不太可能无意间创建两个不同的":[21],"acl，而两个":[21],"名称相同，大小写不同。":[21],"配置编号标准":[23],"标准访问控制列表":[23],"为路由器配置脚本，基于源地址控制路由器是允许还是拒绝数据包。本练习的主要内容是定义过滤标准、配置标准":[23],"acl、将":[23],"应用于路由器接口并验证和测试":[23],"实施。路由器已经过配置，包括":[23],"eigrp":[23],"路由。":[23],"说明":[23,24],"配置命名标准":[24],"高级网络管理员安排您创建一个标准命名":[24],"以阻止访问文件服务器。应该拒绝来自一个网络的所有客户端和来自另一个网络的一台特定工作站访问该服务器。":[24],"方法":[25,26],"使用文本编辑器":[25],"当一个人熟悉了":[25],"的创建和编辑后，使用文本编辑器（例如":[25],"microsoft":[25],"记事本）构建":[25],"可能会比较容易。您可以在编辑器中创建或编辑":[25],"acl，然后将其粘贴到路由器接口中。对于现有的":[25],"acl，您可以使用":[25],"命令显示":[25,40],"acl，将其复制粘贴到文本编辑器中，进行必要的更改并将其粘贴回到路由器接口中。":[25],"配置：例如，假设图中的主机":[25],"地址的输入有误。不应该输入":[25],"主机，而应该输入":[25],"主机。以下是编辑和更正":[25],"的步骤：":[25],"acl。图中的示例使用":[25],"include":[25],"关键字以便仅显示":[25],"ace。":[25],"选中":[25],"acl、将其复制并粘贴到":[25],"记事本中。根据需要编辑列表。在":[25],"记事本中更正了":[25],"之后，选中它并复制。":[25],"在全局配置模式下，使用":[25],"命令移除访问列表。否则，新的语句将附加到现有的":[25],"之后。然后，将新的":[25],"粘贴到路由器的配置中。":[25],"命令验证更改。":[25,26],"应该注意的是，当使用":[25],"命令时，不同":[25],"软件版本的运行方式不同。如果将已删除的":[25],"仍应用于接口，那么某些":[25],"版本的运行与没有":[25],"保护网络时一样，而另外一些版本会拒绝所有流量。因此，比较好的做法是在修改访问列表之前将有关访问列表从接口删除。如果新列表中出现错误，则将其禁用并对问题进行故障排除。在那种情况下，您的网络在更正过程会失去":[25],"的保护。":[25],"使用序号":[26],"的初始配置包括主机":[26],"的一条":[26],"语句。此配置有误。应当将该主机配置为":[26],"10。按照以下步骤，使用序号编辑":[26],"lists":[26,28,29,32,37,45],"命令显示当前":[26],"acl。此命令的输出将在本节的后续部分详细讨论。序号在每条语句的开头显示。在输入访问列表语句时，系统会自动分配序号。注意配置有误的语句，其序号为":[26],"输入用于配置命名":[26],"命令。将":[26],"的编号":[26],"用作":[26],"的名称。首先，需要使用":[26],"命令（其中":[26],"为序号）删除配置有误的语句。然后，使用命令":[26],"添加一条新的序号为":[26],"的语句。":[26],"注：使用与现有语句相同的序号并不能覆盖语句。必须先删除当前语句，然后才能添加新语句。":[26],"如前所述，思科":[26],"对标准访问列表实施一种内部逻辑。标准":[26],"的输入顺序可能不是路由器对其进行存储、显示和处理的顺序。show":[26],"命令可用于将":[26],"与其序号一起显示。":[26],"编辑标准命名":[27],"上述示例中使用了序号来编辑标准编号":[27],"acl。通过引入语句序号，可以很容易地插入或删除单条语句。此方法也可用于编辑标准命名":[27],"图中显示了在命名":[27],"中插入一条语句的示例。":[27],"在第一个":[27],"命令的输出中，您可以看到名为":[27],"有两条编号的语句，指示":[27],"的工作站的访问规则。":[27],"可以从命名访问列表配置模式插入或删除语句。":[27],"要添加一条拒绝另一个工作站的语句，则需要插入一个编号的语句。在本示例中，使用新的序号":[27],"添加":[27],"的工作站。":[27],"最后的":[27],"命令输出确认新添加的工作站现在拒绝访问。":[27],"注：在命名访问列表配置模式下，使用":[27],"sequence":[27],"命令可以快速删除单条语句。":[27],"验证":[28,32],"所示，show":[28,37],"命令用于验证接口上的":[28],"acl。此命令的输出包括访问列表的编号或名称以及应用":[28],"的方向。输出显示，路由器":[28],"上的访问列表":[28],"应用于其":[28],"出站接口，而访问列表":[28],"接口，也是在出站方向上。":[28],"中的示例显示了在路由器":[28],"上发出":[28],"命令后得到的结果。要查看单个访问列表，请使用":[28],"命令，然后使用访问列表的编号或名称。no":[28],"语句可能看起来比较奇怪。注意，序号":[28],"在序号":[28],"前面显示。这是由于路由器的内部进程而产生的结果，本部分稍后将进行讨论。":[28],"统计信息":[29],"将":[29],"应用于接口之后，就要进行一些测试，show":[29],"命令将显示每条匹配语句的统计信息。在图":[29],"的输出中，注意某些语句已经匹配。当生成应与":[29],"语句匹配的流量时，show":[29],"命令输出中显示的匹配项应该会增加。例如，在本示例中，如果从":[29],"对":[29],"pc3":[29],"pc4":[29],"发出":[29],"操作，则输出将会显示":[29],"语句匹配有所增加。":[29],"语句都将跟踪匹配项的统计信息；但是，我们曾学过，每个":[29],"都有一条隐含的":[29],"语句作为最后一条语句。该语句不会在":[29],"命令中显示，因此，并不显示该语句的统计信息。要查看隐含的":[29],"语句的统计信息，请手动配置该语句，使其显示在输出中。":[29],"在":[29,33,34],"的测试过程中，可以使用":[29],"clear":[29],"counters":[29,41],"命令清除计数。可单独使用此命令，或将其与特定":[29],"的编号或名称一起使用。如图":[29],"所示，该命令将清除":[29],"的统计信息计数。":[29],"实验":[30,34],"配置和修改标准":[30],"在本实验中，您将完成以下目标：":[30],"部分：设置拓扑并初始化设备":[30],"部分：配置设备并验证连接":[30],"部分：配置和验证编号和命名的标准":[30],"部分：修改标准":[30],"配置和验证标准":[30],"class":[31,45],"命令":[31],"您可以通过限制":[31],"vty":[31,32,33,34,41,45],"访问来改善管理线路的安全性。通过限制":[31],"访问，您可以定义哪些":[31],"地址能够通过远程访问路由器":[31],"exec":[31],"进程。您可以使用":[31],"和在":[31],"线路上配置的":[31],"语句指定允许哪些":[31],"地址远程访问您的路由器。可以将该技术与":[31],"ssh":[31,32,41],"一同使用，以进一步提高管理访问的安全性。":[31],"线路配置模式中配置的":[31,45],"命令可限制特定":[31,45],"vty（接入思科设备）与访问列表中地址之间的传入和传出连接。":[31],"命令的语法是：":[31],"line":[31],"vrf":[31],"also":[31],"参数":[31],"限制访问列表中的地址和思科设备之间的传入连接，而参数":[31],"则限制特定思科设备与访问列表中地址之间的传出连接。":[31],"一个允许一组地址访问":[31],"线路":[31],"的示例如图":[31],"所示。将图中的":[31],"配置为允许网络":[31],"4，但拒绝所有其他网络。":[31],"当配置":[31],"上的访问列表时，应该考虑以下几点：":[31],"命名访问列表和编号访问列表都可以应用于":[31],"vty。":[31],"应该在所有":[31],"上设置相同的限制，因为用户可以尝试连接到任意":[31],"使用图":[31],"中的语法检查器练习保护":[31],"访问。":[31],"注：访问列表适用于经过路由器的数据包。它们并非设计用于阻止路由器内部产生的数据包。默认情况下，出站":[31],"不会阻止从路由器发起的远程访问连接。":[31],"端口是否安全":[32],"在配置了":[32],"以限制对":[32],"线路的访问后，验证其是否如预期一样工作非常重要。图中显示有两台设备尝试使用":[32],"连接":[32],"r1。已经在":[32],"线路上配置了访问列表":[32],"21。pc1":[32],"连接成功，而":[32],"pc2":[32,39,40,41],"未能建立":[32],"连接。这是预期行为，因为已配置的访问列表允许从":[32],"网络进行":[32],"访问，但拒绝所有其他设备。":[32],"的输出显示在":[32],"进行过":[32],"尝试后发出":[32],"命令得到的结果。输出中":[32],"语句的匹配项是因":[32],"连接成功而产生的。deny":[32],"pc2（192":[32],"网络中的一个设备）尝试创建":[32],"连接失败而产生的。":[32],"线路上配置":[33],"作为网络管理员，您需要能够远程访问您的路由器。此访问权限不能提供给网络的其他用户。因此，您将配置并应用一个":[33],"acl，允许":[33],"pc":[33,43],"线路，但拒绝所有其他源":[33],"地址。":[33],"的说明":[33],"配置和验证":[34],"限制":[34],"在该实验中，您将完成以下目标：":[34],"部分：配置基本设备设置":[34],"部分：在":[34],"上配置和应用访问控制列表":[34],"部分：使用":[34],"验证访问控制列表":[34],"部分：练习":[34],"s1":[34],"隐式":[35],"如果":[35],"中仅包含一个":[35],"条目，则其效果与拒绝所有流量相同。在":[35],"中必须至少配置一条":[35],"ace，否则将阻止所有流量。":[35],"对于图中的网络，在":[35],"接口的出站方向上应用":[35],"将产生相同的效果。允许":[35],"网络访问通过":[35],"可到达的网络，同时拒绝":[35],"访问这些网络。在":[35],"中，如果数据包不匹配":[35],"语句，则将其丢弃。":[35],"中":[36],"的顺序":[36],"在接受和处理标准":[36],"时，思科":[36],"将应用内部逻辑。如前所述，ace":[36],"是按照顺序处理的；因此，ace":[36],"的输入顺序非常重要。":[36],"例如，在图":[36],"中，acl":[36],"包含两个":[36],"ace。第一个":[36],"使用通配符掩码来拒绝某一范围内的地址，此范围包括":[36],"网络中的所有主机。第二个":[36],"为检查属于":[36],"网络的特定主机":[36],"的主机语句。标准访问列表的":[36],"内部逻辑将拒绝第二条语句并返回错误消息，因为它是上一语句的子集。":[36],"的配置使用相同的两条语句，但顺序相反。这是一个有效的语句顺序，因为第一条语句针对的是特定主机，而不是一组主机。":[36],"在图":[36,39,40,41],"显示可在指向一组主机的语句后面配置":[36],"语句。该主机必须在上一语句所涉及的范围之外。192":[36],"主机地址不属于":[36],"网络，因此这是一个有效语句。":[36],"思科":[37],"对标准":[37,39,40,41],"重新排序":[37],"的输入顺序可能不是路由器对其进行存储、显示和处理的顺序。":[37],"显示了标准访问列表的配置。首先配置拒绝三个网络的":[37],"range":[37],"语句，然后配置五个":[37],"语句。由于主机":[37],"地址不属于前面输入的":[37],"语句，因此":[37],"语句都是有效语句。":[37],"命令用于验证":[37,45],"配置。请注意，语句列出的顺序与其输入顺序不同。我们将使用":[37],"命令来了解这背后的原理。":[37],"命令可将":[37],"与其序号一起显示。我们可能希望输出中语句的顺序反映语句的输入顺序。但是，show":[37],"的输出显示情况并非如此。":[37],"列出的顺序是":[37],"用来处理该列表的顺序。注意，语句分为两个部分，先列出":[37],"语句，然后是":[37],"语句。序号表示语句的输入顺序，而不是语句的处理顺序。":[37],"语句首先列出，但不一定是以这些语句的输入顺序列出。ios":[37],"使用特殊的哈希函数按顺序添加":[37],"语句。最终顺序可以优化主机":[37],"条目的搜索。range":[37],"语句在":[37],"语句后面显示。这些语句按其输入的顺序列出。":[37],"注：哈希函数只能应用于":[37],"标准访问列表中的":[37],"语句。有关哈希函数的详细信息不属于本课程的范围。":[37],"回想一下，可以使用序号编辑标准":[37],"和编号":[37],"acl。当插入新的":[37],"语句时，序号只会影响列表中":[37],"语句的位置。始终能够使用哈希函数恢复":[37],"语句的顺序。":[37],"继续使用本示例，在保存运行配置后，重新加载路由器。如图":[37],"命令会以相同顺序显示":[37],"acl，但是已对语句重新编号。现在序号以编号的大小顺序显示。":[37],"路由过程和":[38],"图中显示了路由和":[38],"过程的原理。当数据包到达路由器接口时，无论是否使用":[38],"acl，路由器过程都是相同的。当帧进入接口时，路由器查看其第":[38],"层目标地址是否与其第":[38],"层接口地址匹配，或该帧是否是广播帧。":[38],"如果可以接受该帧地址，那么路由器将解封帧信息，并检查入站接口上的":[38],"acl。如果存在":[38],"acl，则按照列表中的语句测试该数据包。":[38],"如果数据包与某条语句匹配，则根据结果允许或拒绝该数据包。如果数据包被接受，将检查路由表条目来确定目标接口。如果目标存在路由表条目，数据包将被转发到送出接口，否则数据包将被丢弃。":[38],"接下来，路由器检查送出接口是否具有":[38],"如果数据包与某条语句匹配，则根据结果允许或拒绝该数据包。":[38],"如果没有":[38],"或数据包被允许，则将数据包封装在新的第":[38],"层协议中，并从相应接口转发到下一台设备。":[38],"进行故障排除":[39,40,41],"使用前面介绍过的":[39],"命令可以发现大部分更为常见的":[39],"错误。最常见的错误是以错误的顺序输入":[39],"和不指定适当的":[39],"规则。其他常见错误包括使用错误的方向、错误的接口或错误的源地址应用":[39],"安全策略：pc2":[39],"应该不能访问文件服务器。":[39],"中，虽然":[39],"无法访问文件服务器，但是":[39],"也无法访问文件服务器。当查看":[39],"命令的输出时，仅":[39],"被显式拒绝。但是，没有":[39],"语句允许其他访问。":[39],"解决方案：当前已隐式拒绝所有从":[39],"接口到":[39],"lan":[39],"的访问。如图":[39],"所示，向":[39],"添加一条语句以允许所有其他流量。pc1":[39],"现在应该能够访问文件服务器。show":[39],"命令的输出验证了从":[39],"到文件服务器的":[39],"操作匹配":[39],"语句。":[39,45],"安全策略：192":[40],"网络应该不能访问":[40],"中，pc2":[40],"无法访问":[40],"pc1。而且":[40],"也无法通过":[40],"r2":[40],"访问互联网。在查看":[40],"命令的输出时，您可以看到":[40],"匹配":[40],"语句。acl":[40],"似乎配置正确。您怀疑它肯定应用得不正确，并且查看了":[40],"的接口配置。":[40],"中，为查看接口配置而过滤的":[40],"run":[40],"已被应用于错误的接口和错误的方向。所有来自":[40],"的流量均拒绝通过":[40],"接口进行入站访问。":[40],"解决方案：要更正此错误，请从":[40],"接口删除":[40],"并将其应用于":[40],"接口出站方向，如图":[40],"所示。pc2":[40],"pc1，但是现在可以访问互联网。":[40],"安全策略：仅允许":[41],"通过":[41],"远程访问":[41],"r1。":[41],"中，pc1":[41],"无法使用":[41],"连接远程访问":[41],"r1。查看":[41],"线路的运行配置部分可以发现":[41],"已正确应用于入站连接。vty":[41],"线路正确配置为仅允许":[41],"连接。在":[41],"命令的输出中，您注意到":[41],"地址是":[41],"接口，而不是":[41],"地址。另请注意，管理员在":[41],"中配置了显式":[41],"语句。因为在这种情况下，您将看到满足远程访问":[41],"失败尝试的匹配项，所以这会很有用。":[41],"解决方案：图":[41],"显示纠正此错误的过程。由于需要纠正的语句是第一条语句，所以我们可以使用序号":[41],"通过输入":[41],"删除该语句。然后，我们为":[41],"配置正确的":[41],"地址。clear":[41],"命令将输出重置为仅显示新匹配项。尝试从":[41],"会取得成功，如":[41],"命令的输出中所示。":[41],"故障排除":[42],"创建一个实施以下三个策略的网络：":[42],"网络的主机无法访问":[42],"server3":[42],"的任何":[42],"tcp":[42],"服务。":[42],"server1":[42],"http":[42],"server2":[42],"故障排除说明":[42],"被拒绝":[43],"最近报告，中小型企业网络内的病毒在上升。您的网络管理员一直在跟踪网络性能，确定有一个特定主机不断地从一个远程":[43],"服务器下载文件。这个主机可能正是网络中持续存在的病毒源。":[43],"完成本练习。编写一个命名":[43],"acl，拒绝该主机访问该":[43],"服务器。将":[43],"应用到路由器上最有效的接口。":[43],"要完成物理拓扑，您必须使用：":[43],"主机站":[43],"两台交换机":[43],"一台思科":[43],"系列集成多业务路由器":[43],"一台服务器":[43],"文本工具，记录您准备的":[43],"acl。通过尝试访问":[43],"服务器的地址，验证":[43],"能否拒绝对":[43],"服务器的访问。在模拟模式下观察发生的情况。":[43],"保存您的文件，准备与另一个学生或整个班级分享。":[43],"拒绝说明":[43],"综合技能练习":[44],"在此练习活动中，您将完成编址方案，配置路由，以及实施命名的访问控制列表。":[44],"综合技能练习说明":[44],"默认情况下路由器不会过滤流量。进入路由器的流量仅根据路由表内的信息进行路由。":[45],"数据包过滤通过分析传入和传出的数据包并根据条件传递或丢弃数据包，从而控制网络访问，例如源":[45],"地址、目标":[45],"地址和数据包内传输的协议。数据包过滤路由器使用特定规则确定是允许还是拒绝流量。路由器还可以在第":[45],"层（传输层）过滤数据包。":[45],"语句组成的顺序列表。acl":[45],"的最后一条语句通常是拦截所有流量的隐式":[45],"语句。为了防止":[45],"末尾的隐式":[45],"语句拦截所有流量，可以添加":[45],"当网络流量经过配置了":[45],"的接口时，路由器会将数据包中的信息与每个条目按顺序进行比较，以确定数据包是否匹配其中一个语句。如果找到匹配项，就将数据包进行相应的处理。":[45],"要么配置用于入站流量，要么用于出站流量。":[45],"可以用于允许或拒绝仅来自源":[45],"地址的流量。它不评估数据包的目标地址和所涉及的端口。放置标准":[45],"的基本规则是使其接近目标。":[45],"根据多种属性过滤数据包：协议类型、源或目标":[45],"地址以及源或目标端口。放置扩展":[45],"的基本规则是将其置于尽量靠近源地址的位置。":[45],"全局配置命令定义编号在":[45],"范围内的标准":[45],"用于创建标准命名":[45],"配置":[45],"命令将其关联到接口：请记住以下规则：每种协议一个":[45],"acl，每个方向一个":[45],"acl，每个接口一个":[45],"命令和":[45],"配置。show":[45],"命令用于验证接口上应用的":[45],"及其应用方向。":[45],"与访问列表中地址之间的传入和传出连接。":[45]}}